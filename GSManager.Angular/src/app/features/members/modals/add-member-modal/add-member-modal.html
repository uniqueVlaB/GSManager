<app-modal-base [title]="'Add New Member'" (close)="closeModal()">
  <form [formGroup]="form" (ngSubmit)="onSubmit()" class="modal-body">
    <div class="form-group">
      <label for="firstName" class="form-label">First Name</label>
      <input
        id="firstName"
        type="text"
        class="form-input"
        formControlName="firstName"
        required
      />
      @if (form.get('firstName')?.hasError('required') && form.get('firstName')?.touched) {
        <span class="error-message">First name is required</span>
      }
    </div>

    <div class="form-group">
      <label for="middleName" class="form-label">Middle Name</label>
      <input
        id="middleName"
        type="text"
        class="form-input"
        formControlName="middleName"
      />
    </div>

    <div class="form-group">
      <label for="lastName" class="form-label">Last Name</label>
      <input
        id="lastName"
        type="text"
        class="form-input"
        formControlName="lastName"
        required
      />
      @if (form.get('lastName')?.hasError('required') && form.get('lastName')?.touched) {
        <span class="error-message">Last name is required</span>
      }
    </div>

    <div class="form-group">
      <label for="email" class="form-label">Email</label>
      <input
        id="email"
        type="email"
        class="form-input"
        formControlName="email"
        required
      />
      @if (form.get('email')?.hasError('required') && form.get('email')?.touched) {
        <span class="error-message">Email is required</span>
      }
      @if (form.get('email')?.hasError('email') && form.get('email')?.touched) {
        <span class="error-message">Please enter a valid email</span>
      }
    </div>

    <div class="form-group">
      <label for="phoneNumber" class="form-label">Phone Number</label>
      <input
        id="phoneNumber"
        type="tel"
        class="form-input"
        formControlName="phoneNumber"
      />
    </div>

    <div class="modal-footer">
      <app-button type="button" variant="secondary" (click)="closeModal()">
        Cancel
      </app-button>
      <app-button
        type="submit"
        variant="primary"
        [disabled]="form.invalid || isSubmitting()"
      >
        @if (isSubmitting()) {
          Adding...
        } @else {
          Add Member
        }
      </app-button>
    </div>
  </form>
</app-modal-base>
